enum Permission {
  ADMIN
  USER
  PERMISSIONUPDATE
}

enum PresentationTypes {
  General
  Morning
  Case
  Specialist
  PrimaryCare
  InternSurvival
}

enum RotationTags {
  Wards
  Nights
  Ccu
  Qi
  Allergy
  Anesthesia
  Cardiology
  Dermatology
  Endocrinology
  Ent
  Gi
  Gim
  Primarycare
  Geriatrics
  Gyn
  Hemeonc
  Infectiousdisease
  Nephro
  Neuro
  Ophtho
  Surgery
  Urology
  Msk
  Palliative
  Path
  Procedures
  Psych
  Pulm
  Rheum
  Scholarly
  Specialreq
  Swing
  Float
  Sbp
  Hyperbarics
  DotPhrase
  Link
  Mksap
}

type Presentation {
  id: ID! @unique
  presentationType: PresentationTypes! @default(value: "General")
  hpi: String
  physicalExam: String
  summAssessment: String
  ddx: [String]
  tags: [RotationTags]
  createdBy: User! @relation(name: "PresentationCreator")
  whatWasLearned: String!
  questions: [Question]
  taggedUser: [User]! @relation(name: "TaggedPresentation")
}

type User {
  id: ID! @unique
  name: String!
  email: String! @unique
  password: String!
  resetToken: String
  resetTokenExpiry: Float
  permissions: [Permission]
  presentations: [Presentation]
    @relation(name: "PresentationCreator", onDelete: CASCADE)
  questions: [Question]
  learning: [Learning] @relation(name: "LearningCreator", onDelete: CASCADE)
  taggedLearning: [Learning]
    @relation(name: "TaggedLearning", onDelete: CASCADE)
  taggedPresentation: [Presentation]
    @relation(name: "TaggedPresentation", onDelete: CASCADE)
  visible: Boolean! @default(value: "true")
  institution: String
}

type Question {
  id: ID! @unique
  questionStem: String!
  questionAnswerText: String
  answerOptions: [String]
  answers: [String]
  createdBy: User!
  presentation: Presentation!
}

type Learning {
  id: ID! @unique
  tags: [RotationTags]!
  whatWasLearned: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  createdBy: User! @relation(name: "LearningCreator")
  taggedUser: [User]! @relation(name: "TaggedLearning")
}
